!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i(require("is")):"function"==typeof define&&define.amd?define(["is"],i):(e="undefined"!=typeof globalThis?globalThis:e||self).event_emitter=i(e.is)}(this,(function(e){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var t=i(e);function n(e,i,t){this.name=e,this.id=i,this.func=t}return function(){var e=[],i=[],r=function(i,t){for(var n=e.length;n--;)if(e[n].name===i&&e[n].id===t)return n;return-1};this.register=function(i,f,s){if(t.default.func(f))if(t.default.string(s)){var o=s;s=f,f=o}else s=f,f="all";if(i){var u=r(i,f),l=new n(i,f,s);-1===u?e.push(l):e[u]=l}},this.on=this.register,this.once=function(e,t){if(e){var r=new n(e,"",t);i.push(r)}},this.onMany=function(e,i){if(i)for(var t in i)this.on(t,e,i[t])},this.unregister=function(t,n){if(n||(n="all"),t){var f=0;if("all"!==n)for(-1!==(f=r(t,n))&&e.splice(f,1),f=i.length;f--;)i[f].name===t&&i.splice(f,1);else for(f=e.length;f--;)"all"===e[f].id&&e.splice(f,1)}},this.off=this.unregister,this.offAll=function(i){for(var t=e.length;t--;)e[t].id===i&&e.splice(t,1)},this.trigger=function(t,n){for(var r=function(i){for(var t=[],n=0,r=e.length;n<r;n++)e[n].name===i&&t.push(e[n]);return t}(t),f=0,s=r.length;f<s;f++)r[f].func(n,t);for(var o=i.length;o--;)i[o].name===t&&(i[o].func(n,t),i.splice(o,1))},this.emit=this.trigger,this.propagate=function(e,i){this.trigger(i,e)},this.isRegistered=function(i,t){for(var n=e.length;n--;)if(e[n].id===t&&e[n].name===i)return!0;return!1}}}));
