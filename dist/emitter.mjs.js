is={string:function(n){return"string"==typeof n},object:function(n){return"object"==typeof n&&null!==n&&!Array.isArray(n)},array:function(n){return Array.isArray(n)},bool:function(n){return"boolean"==typeof n},number:function(n){return"number"==typeof n},func:function(n){return"function"==typeof n},nul:function(n){return null===n},undef:function(n){return void 0===n||void 0===n}};var n=is;function t(n,t,r){this.name=n,this.namespace=t,this.func=r}function r(){var r=[],i=[],e=function(n,t){for(var i=r.length;i--;)if(r[i].name===n&&r[i].namespace===t)return i;return-1};this.register=function(i,s,u){if(n.func(s))if(n.string(u)){var f=u;u=s,s=f}else u=s,s="all";if(i){var o=e(i,s),a=new t(i,s,u);-1===o?r.push(a):r[o]=a}},this.on=this.register,this.subscribe=this.register,this.once=function(n,r){if(n){var e=new t(n,"",r);i.push(e)}},this.onMany=function(n,t){if(t)for(var r in t)this.on(r,n,t[r])},this.unregister=function(n,t){if(t||(t="all"),n){var s=0;if("all"!==t)for(-1!==(s=e(n,t))&&r.splice(s,1),s=i.length;s--;)i[s].name===n&&i.splice(s,1);else for(s=r.length;s--;)"all"===r[s].namespace&&r.splice(s,1)}},this.off=this.unregister,this.unsubscribe=this.unregister,this.offAll=function(n){for(var t=r.length;t--;)r[t].namespace===n&&r.splice(t,1)},this.trigger=function(n,t){for(var e=function(n){for(var t=[],i=0,e=r.length;i<e;i++)r[i].name===n&&t.push(r[i]);return t}(n),s=0,u=e.length;s<u;s++)e[s].func(t,n);for(var f=i.length;f--;)i[f].name===n&&(i[f].func(t,n),i.splice(f,1))},this.emit=this.trigger,this.publish=this.trigger,this.propagate=function(n,t){this.trigger(t,n)},this.isRegistered=function(n,t){for(var i=r.length;i--;)if(r[i].namespace===t&&r[i].name===n)return!0;return!1}}export{r as default};
